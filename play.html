<!DOCTYPE html>
<html>
	<head>
		<link href="playcss.css" rel="stylesheet">
	</head>
	<body>
		<canvas id="myCanvas" width="900" height="700"></canvas>
		<img id="egypt" width="900" height="700" src="img/egypt_background.png" alt="Egypt">

		<button class="button BAbutton" id="BAbutton" type="button" onclick="bayarea()">Bay Area, United States</button>
		<button class="button SAbutton" id="SAbutton" type="button" onclick="saudiarabia()">Saudi Arabia</button>
		<button class="button Cbutton" id="Cbutton" type="button" onclick="china()">China</button>
		<button class="button Ebutton" id="Ebutton" type="button" onclick="egypt()">Egypt</button>

		<p id="question"></p>

		<button class="button yesbutton" id="yesbutton" type="button" onclick="yes()">Yes</button>
		<button class="button nobutton" id="nobutton" type="button" onclick="no()">No</button>

		<script>
			var canvas = document.getElementById("myCanvas");
			var ctx = canvas.getContext("2d");
			function itemTouched(pointer) {
				ctx.font = "16px Arial";
				ctx.fillStyle = "#0095DD";
				ctx.fillText("Hello: ", 8, 20);
			}
			//----------- code for questions -----------------------------
			var end = "end"; // so we don't have to write end with quotations all the time
		 	var current = undefined; // current question displayed

			/*
			if question/data is end of the story,
			attributes "yes" and "no"
			should be called "end"
			*/
			function Question(question, yes, no){
				this.question = question;
				this.yes = yes; // this.yes acts as a connector to the according next question
				this.no = no; // this.no acts as a connector to the according next question
			}

			function find(key) {
				if (key in dictionary) {
					return dictionary[key]; // returns value in dictionary
				}
				return null;
			}

			//----------- all objects for scenarios ----------------------
			// questions for Bay Area
			var robotics = new Question("You are a girl growing up in Bay Area who wants to join a robotics team at your high school, but they are all boys. Do you join?", "secretary", "data1");
		      var data1 = new Question("Only 10.7% of electrical or computer hardware engineers are women (ngcproject.org).", end, end);
			var secretary = new Question("The boys tell you to be secretary instead of participating in the design of the robot. Will you do it?", "data2", "pageant");
		      var data2 = new Question("Harvard’s global online research study, which included over 200,000 participants, showed that 76% of people (men and women) are gender-biased and tend to think of men as better suited for careers and women as better suited as homemakers (Forbes).", end, end);
		      var pageant = new Question("Your mom wants you to take beauty pageant classes at the same time as robotics. Do you comply?", "data3", "interview");
		      var data3 = new Question("A new survey commissioned by Microsoft (MSFT, Tech30) found that young girls in Europe become interested in so-called STEM subjects around the age of 11 and then quickly lose interest when they're 15. Six in 10 girls admitted they'd feel more confident pursuing a STEM career if they knew men and women were already equally employed in these fields(cnntech).", end, end);
			var interview = new Question("5 years later. You get an interview at a startup and you go in formal pants and no makeup. The interviewer makes a snarky comment. Do you defend yourself?", "money", "data4");
		      var data4 = new Question("60 percent of women in tech reported unwanted sexual advances, 65 percent of those women had received those advances from a superior at work, 90 percent of women witnessed sexist behavior at company offsites or at a conference, and 84 percent of those surveyed were at one point told they were “too aggressive” in the office (Vogue).", end, end);
			var money = new Question("You get a job at a different company. Your male counterparts get paid more than you. Do you ask for a raise?", "girlpower", "data5");
		      var data5 = new Question("Research shows men are four times more likely than women to ask for a salary raise, and economist Linda Babcock of Carnegie Mellon University says this has a snowball effect. Even a small pay boost will mean bigger annual raises and possibly bigger bonuses and it will carry over to a new employer, who is almost certain to ask: What was your last salary? (NPR)", end, end);
		      var girlpower = new Question("Girl power!", end, end);

			// questions for Saudi Arabia
			var SA_sports = new Question("You’re a kid who likes to play sports, but sports are banned in your community. There is a private school, a three mile walk from your home, that allows you to play basketball. Do you try to convince your father to let you go to that school?", "SA_friends", "SA_oldschool");
			var SA_oldschool = new Question("You stay at your old school. It’s hot outside and you want to wear something other than your niqab. Do you ask your mom for lighter clothing?", "SA_shamefam", "SA_noprovoke");
			var SA_friends = new Question("Unfortunately, you try your best but your parents refuse. You stay at your old school and hang out with your friends. It’s hot outside and you want to wear something other than your niqab. Do you ask your mom for lighter clothing?", "SA_shamefam", "SA_noprovoke");
			var SA_noprovoke = new Question("It’s okay. She probably wouldn’t say yes anyway. You don’t want to provoke her. You are 16 now. Your father comes home and tells you that you have a new husband. You realize you have been sold. Do you protest?", "SA_slap", "SA_silence");
			var SA_shamefam = new Question("She refuses to allow you to shame the family by wearing clothes like that. You are 16 now. Your father comes home and tells you that you have a new husband. You realize you have been sold. Do you protest?", "SA_slap", "SA_silence");
			var SA_silence = new Question("You wait until your wedding day in silence. Your father seems happy. Soon, you will meet your husband. It has been 2 years since you were married to your husband, a man 20 years older than you. Your husband is discontent with you, and he punches and kicks you. You need medical attention, but you need permission from a male relative to be treated. Do you ask your husband for permission?", "SA_lastkick", "SA_ownwound");
			var SA_slap = new Question("Your mother slaps you and tells you to behave. The day before you meet your husband, you run away. Before you get far from home, the authorities come and bring you back to your family. You are locked in your room until your wedding day. It has been 2 years since you were married to your husband, a man 20 years older than you. Your husband is discontent with you, and he punches and kicks you. You need medical attention, but you need permission from a male relative to be treated. Do you ask your husband for permission?", "SA_lastkick", "SA_ownwound");
			var SA_lastkick = new Question("Your husband becomes even more angry. He gives you one last kick and tells you no. The next day, when your husband is out working, you decide to go to the hospital. However, women are not allowed to drive. Do you ask your father to drive you?", "SA_longdrive", "SA_patchup");
			var SA_ownwound = new Question("Your husband leaves you alone, and you tend to your own wounds. The next day, when your husband is out working, you decide to go to the hospital. However, women are not allowed to drive. Do you ask your father to drive you?", "SA_longdrive", "SA_patchup");
			var SA_longdrive = new Question("Your father has to attend to other matters. He is too busy to take you on the long drive to the hospital. You stay at home. You realize that you can only live without freedom in this environment. You seek to make a better life for your children. THE END. <br/> Interesting Fact: Saudi Arabia ranks 141/144 for gender equality (World Economic Forum's 2016 Global Gender Gap report).", end, end);
			var SA_patchup = new Question("You ask your mother for medicine. Your sister helps you patch up. You realize that you can only live without freedom in this environment. You seek to make a better life for your children. THE END. <br/> Interesting Fact: Saudi Arabia ranks 141/144 for gender equality (World Economic Forum's 2016 Global Gender Gap report).", end, end);

			// questions for China
			var C_advice = new Question("You live in rural China with your large family. The sun leaves you with dark skin - or at least skin darker than most Chinese people. Your father gets a better paying job in a more urban area of China and decides to move your family. Once in the city, you want to get a job at a business company nearby. Do you ask your mom for advice?", "C_discouraged", "C_quit");
  			var C_discouraged = new Question("She discourages you from leaving the family to get a job. You don’t get the job, and you stay at home to take care of the household until you get married. While at home, your mom wants you to wear makeup and more girly clothes. Do you listen to her?", "C_data1", "C_boyfriend");
  			var C_data1 = new Question("Shengnu, “leftover woman”, is a term China’s Ministry of Education has added to its official lexicon. It describes an urban professional woman over the age of 27. The prefix, sheng, is the same as in the word shengcai, or “leftover food (telegraph.co.uk).", end, end);
			  var C_boyfriend = new Question("You are 23 years old, and you start dating a guy. You want to marry him, but your parents want to set you up with a family friend’s son. Do you break up with your boyfriend?", "C_data2", "C_marry");
			  var C_data2 = new Question("Under the Communist Party in China women are brought up to think that by 25 they must “fight” and “hunt” for a partner. If not married by 28, they are pressured to “triumph against the odds”. Between 31 and 34, still-unmarried women are referred to as “advanced leftovers”. By 35, a single woman is the “ultimate” leftover, spiritually flawed in thinking she is higher than the mandate of marriage (telegraph.co.uk).", end, end);
			  var C_marry = new Question("Your parents are angry at first, but eventually come around. Now you are happily living with your husband. You have convinced your parents that not all non-traditional things are bad. Congratulations.", end, end);
			  var C_quit = new Question("You get the job, and when you tell your parents that you are making money now, your mother gets angry with you and tells you to quit. Do you quit?", "C_school", "C_comments");
			  var C_school = new Question("You quit your job, but you’re still angry with your mother. You decide to go to school like your brothers instead of living at home. You don’t wear makeup to school and care less about your looks than studying. The other girls in your classes make fun of you for not wearing makeup and having dark skin. Do you listen to them and change to please them?", "C_badbf", "C_data3");
			  var C_data3 = new Question("Cosmetic surgery has become so common in the country that China accounts for 12.7 percent of all plastic surgeries in the world (tutorming.com).", end, end);
			  var C_badbf = new Question("After you look more ladylike, you attract the attention of a guy. You start dating him, but realize he only likes you for your looks. However, your parents want you to be with him. Do you break up?", "C_breakup", "C_marrybad");
			  var C_breakup = new Question("Soon you find someone new. Your parents are angry at first, but eventually come around. Now you are happily living with your husband. You have convinced your parents that not all non-traditional things are bad. Congratulations.", end, end);
			  var C_marrybad = new Question("You marry him and make your parents happy. You live a good life, but promise to support your own kids more fully. While the traditional practice of arranged marriage has been illegal in China since the 1950s, parents remain heavily involved in their children’s marital decisions (theconversation.com).", end, end);
			  var C_comments = new Question("You don’t wear makeup to work, and one time your employer makes a comment about how you look even though the men you work with couldn’t care less about how they look. Do you stand up to him?", "C_overdramatic", "C_sexist");
			  var C_overdramatic = new Question("Your boss yells at you for being overdramatic, and you quit. Now, you work for a girl employer. You are 23 years old, and you start dating a guy. You want to marry him, but your parents want to set you up with a family friend’s son. Do you break up with your boyfriend?", "C_relationshipover", "C_marry");
			  var C_relationshipover = new Question("You marry him and make your parents happy. You live a good life, but promise to support your own kids more fully. While the traditional practice of arranged marriage has been illegal in China since the 1950s, parents remain heavily involved in their children’s marital decisions (theconversation.com)", end, end);
			  var C_sexist = new Question("Your boss continues to make subtle but sexist comments. You hear him commenting on another employee’s body. Do you stand up for the younger girl?", "C_stand", "C_give");
			  var C_stand = new Question("Congratulations! Despite your difficulties you're willing to defend a woman against sexist stereotypes and people in the world.", end, end);
			  var C_give = new Question("More than 72% of women stated that they were not hired or promoted due to gender discrimination in China in 2016 (catalyst.org).", end, end);


			// questions for Egypt
			var E_filthy = new Question("You are 16-years-old and is living with your family. Today, you are going across the city to meet your friend, and you decide to ride the public transportation to get to her house. On the bus, you hear a man say filthy comments at a young woman. Should you confront him?", "E_harass", "E_silence");
			var E_harass = new Question("You speak up and tell the man to stop. He smiles and starts to harass you. When you tell him to stop again, he laughs. Does he think you enjoy it? Although you had a bad time on the bus, you reach your friend's house safely. You spend the afternoon chatting and laughing. Today was a good day, but you have to leave soon to meet curfew, 9 PM. However, you want to stay a bit longer. After all, you haven’t seen your friend for a long time.  Do you stay for a bit longer?", "E_shame", "E_safe");
			var E_silence = new Question("You listen in silence. You try to make eye contact with the young woman, but she keeps her head down. You give up on trying to help and continue staying silent throughout the ride. Although you had a bad time on the bus, you reach your friend’s house safely. You spend the afternoon chatting and laughing. Today was a good day, but you have to leave soon to meet curfew, 9 PM. However, you want to stay a bit longer. After all, you haven’t seen your friend for a long time.  Do you stay for a bit longer?", "E_shame", "E_safe");
			var E_shame = new Question("You enjoy your extra time at your friend’s house. By the time you get back home, it is already half past 9 o’clock. Your neighbors witness this and shame your family. Your family is embarrassed and is shunned by the rest of your community. You are grounded for 2 months and endless torture. Your family found out that you already had your first period. In their religion, a girl’s first bleeding signifies her readiness for marriage. Your parents decide to arrange a marriage for you and the son of a family that lives within your community. Should you go along with it?", "E_marriage", "E_forced");
			var E_safe = new Question("You hug your friend and say your goodbyes. You get home a few minutes before 9 o’clock. Your parents are carrying out their usual routine. You are glad that you got home on time. If you hadn’t, your parents might have yelled at you for coming home late and shaming the family. Your family found out that you already had your first period. In their religion, a girl’s first bleeding signifies her readiness for marriage. Your parents decide to arrange a marriage for you and the son of a family that lives within your community. Should you go along with it?", "E_marriage", "E_forced");
			var E_marriage = new Question("You comply with your parents and wed. Hopefully, you will be happy in your marriage and live a long life. You and your husband have been living peacefully for 3 years. Now, he suddenly announces to the whole family that he is getting another wife. Should you leave him?", "E_wife", "E_divorce");
			var E_forced = new Question("Your family beats you up, and eventually, you are forced to marry. You and your husband have been living peacefully for 3 years. Now, he suddenly announces to the whole family that he is getting another wife. Should you leave him?", "E_wife", "E_divorce");
			var E_wife = new Question("Even though you remain submissive and stay by your husband’s side, his new wife is younger and prettier. Your husband quickly gets tired of you,and one day, says “you are divorced”  three times. There’s nothing you can do, and you leave with nothing but your sparse belongings. However, things are rough. With very little skills or possessions, it is almost impossible to find a job. With no place to go or money for basic amenities, the only choice you can think of is to go to your family. Should you go back?", "E_ban", "E_unemployed");
			var E_divorce = new Question("You and your husband reach an agreement to obtain a divorce and you are now a free person. However, things are rough. With very little skills or possessions, it is almost impossible to find a job. With no place to go or money for basic amenities, the only choice you can think of is to go to your family. Should you go back?", "E_ban", "E_unemployed");
			var E_ban = new Question("Your parents are embarrassed when you walk into the door due to the news of the divorce. Three days later, they kick you out of the house and ban you from the premises forever.", end, end);
			var E_unemployed = new Question("You stay unemployed. Meanwhile, you must find financial support from others, whether they be a friend or a new husband.", end, end);

			//----------- put questions/answers in dictionary ------------
			var dictionary = {};
			// Bay Area
		 	dictionary[robotics.yes] = secretary;
      			dictionary[robotics.no] = data1;
			dictionary[secretary.no] = pageant;
      			dictionary[secretary.yes] = data2;
			dictionary[pageant.no] = interview;
      			dictionary[pageant.yes] = data3;
			dictionary[interview.yes] = money;
      			dictionary[interview.no] = data4;
      			dictionary[money.yes] = girlpower;
      			dictionary[money.no] = data5;

			// Saudi Arabia
			dictionary[SA_sports.yes] = SA_friends;
			dictionary[SA_sports.no] = SA_oldschool;
			dictionary[SA_friends.yes] = SA_shamefam;
			dictionary[SA_friends.no] = SA_noprovoke;
			dictionary[SA_oldschool.yes] = SA_shamefam;
			dictionary[SA_oldschool.no] = SA_noprovoke;
			dictionary[SA_shamefam.yes] = SA_slap;
			dictionary[SA_shamefam.no] = SA_silence;
			dictionary[SA_noprovoke.yes] = SA_slap;
			dictionary[SA_noprovoke.no] = SA_silence;
			dictionary[SA_silence.yes] = SA_lastkick;
			dictionary[SA_silence.no] = SA_ownwound;
			dictionary[SA_slap.yes] = SA_lastkick;
			dictionary[SA_slap.no] = SA_ownwound;
			dictionary[SA_lastkick.yes] = SA_longdrive;
			dictionary[SA_lastkick.no] = SA_patchup;
			dictionary[SA_ownwound.yes] = SA_longdrive;
			dictionary[SA_ownwound.no] = SA_patchup;
			
			// China
			dictionary[C_advice.yes] = C_discouraged;
		      dictionary[C_advice.no] = C_quit;
		      dictionary[C_discouraged.no] = C_boyfriend;
		      dictionary[C_discouraged.yes] = C_data1;
		      dictionary[C_boyfriend.no] = C_marry;
		      dictionary[C_boyfriend.yes] = C_data2;
		      dictionary[C_quit.yes] = C_school;
		      dictionary[C_quit.no] = C_comments;
		      dictionary[C_school.yes] = C_badbf;
		      dictionary[C_school.no] = C_data3;
		      dictionary[C_badbf.yes] = C_breakup;
		      dictionary[C_badbf.no] = C_marrybad;
		      dictionary[C_comments.yes] = C_overdramatic;
		      dictionary[C_comments.no] = C_sexist;
		      dictionary[C_overdramatic.yes] = C_relationshipover;
		      dictionary[C_overdramatic.no] = C_marry;
		      dictionary[C_sexist.yes] = C_stand;
		      dictionary[C_sexist.no] = C_give;
			
			// Egypt
			dictionary[E_filthy.yes] = E_harass;
			dictionary[E_filthy.no] = E_silence;
			dictionary[E_harass.yes] = E_shame;
			dictionary[E_harass.no] = E_safe;
			dictionary[E_silence.yes] = E_shame;
			dictionary[E_silence.no] = E_safe;
			dictionary[E_shame.yes] = E_marriage;
			dictionary[E_shame.no] = E_forced;
			dictionary[E_safe.yes] = E_marriage;
			dictionary[E_safe.no] = E_forced;
			dictionary[E_marriage.yes] = E_wife;
			dictionary[E_marriage.no] = E_divorce;
			dictionary[E_forced.yes] = E_wife;
			dictionary[E_forced.no] = E_divorce;
			dictionary[E_wife.yes] = E_ban;
			dictionary[E_wife.no] = E_unemployed;
			dictionary[E_divorce.yes] = E_ban;
			dictionary[E_divorce.no] = E_unemployed;

			//----------- hide everything before start -------------------
			document.getElementById("question").style.display = "none";
			document.getElementById("yesbutton").style.display = "none";
			document.getElementById("nobutton").style.display = "none";

			//----------- function to show everything --------------------
			function show() {
				document.getElementById("question").style.display = "block";
				document.getElementById("yesbutton").style.display = "inline-block";
				document.getElementById("nobutton").style.display = "inline-block";
			}

			//----------- function to hide start buttons -----------------
			function hideStart() {
				document.getElementById("BAbutton").style.display = "none";
				document.getElementById("SAbutton").style.display = "none";
				document.getElementById("Cbutton").style.display = "none";
				document.getElementById("Ebutton").style.display = "none";
			}

			//----------- code for start buttons -------------------------
			function bayarea() {
				current = robotics;
				document.getElementById("question").innerHTML = current.question;
				hideStart();
				show();
			}
			function saudiarabia() {
				current = SA_sports;
				document.getElementById("question").innerHTML = current.question;
				hideStart();
				show();
			}
			function china() {
				current = C_advice;
				document.getElementById("question").innerHTML = current.question;
				hideStart();
				show();
			}
			function egypt() {
				current = E_filthy;
				document.getElementById("question").innerHTML = current.question;
				hideStart();
				show();
			}
			
			//----------- functions run when buttons clicked -------------
			function yes(){
				current = find(current.yes);
				document.getElementById("question").innerHTML = current.question;
				if (current.yes == end && current.no == end) {
					document.getElementById("yesbutton").style.display = "none";
					document.getElementById("nobutton").style.display = "none";
				}
			}

			function no(){
				current = find(current.no);
				document.getElementById("question").innerHTML = current.question;
				if (current.yes == end && current.no == end) {
					document.getElementById("yesbutton").style.display = "none";
					document.getElementById("nobutton").style.display = "none";
				}
			}
		</script>
	</body>
</html>
